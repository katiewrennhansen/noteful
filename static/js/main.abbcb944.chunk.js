(window.webpackJsonpnoteful=window.webpackJsonpnoteful||[]).push([[0],{22:function(e,t,n){e.exports=n(42)},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),c=n.n(r),l=n(7),i=n(1),u=n(2),s=n(4),d=n(3),m=n(5),h=n(11),f=(n(27),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:"header"},o.a.createElement(l.b,{to:"/"},o.a.createElement("h1",null,"Noteful")))}}]),t}(a.Component)),p=(n(33),n(34),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"folder"},o.a.createElement("h3",null,this.props.name))}}]),t}(a.Component)),E=(n(35),o.a.createContext({folders:[],notes:[],addFolder:function(){},addNote:function(){},deleteNote:function(){},handleDeleteNote:function(){}})),b=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context.folders.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(l.b,{to:"/folders/".concat(e.id)},o.a.createElement(p,{name:e.title})))}));return o.a.createElement("div",{className:"folder-list"},o.a.createElement("ul",null,e),o.a.createElement(l.b,{to:"add-folder"},o.a.createElement("button",null,"Add Folder")))}}]),t}(a.Component);b.contextType=E;var y=b,v=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("aside",{className:"header"},o.a.createElement(y,null))}}]),t}(a.Component),O=(n(36),{API_ENDPOINT:"https://guarded-plains-36078.herokuapp.com/api"}),j=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleClickAdd=function(e){e.preventDefault();var t={title:e.target.name.value};fetch("".concat(O.API_ENDPOINT,"/folders"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(e){n.context.folders.push(e)})).catch((function(e){console.log(e)})),n.props.history.push("/")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"add-folder"},o.a.createElement("div",{className:"inner-content"},o.a.createElement("h1",null,"Add New Folder"),o.a.createElement("form",{onSubmit:function(t){return e.handleClickAdd(t)}},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{id:"name",name:"name",type:"text"}),o.a.createElement("input",{type:"submit"})),o.a.createElement(l.b,{to:"/"},o.a.createElement("button",{className:"back-button"},"Back"))))}}]),t}(a.Component);j.contextType=E;var N=j,k=(n(37),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleClickAdd=function(e){e.preventDefault();var t={title:e.target.name.value,content:e.target.content.value,folder_id:e.target.folder.value};fetch("".concat(O.API_ENDPOINT,"/notes"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(e){n.context.notes.push(e)})).catch((function(e){console.log(e)})),n.props.history.push("/")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"add-note"},o.a.createElement("div",{className:"inner-content"},o.a.createElement("h1",null,"Add New Note"),o.a.createElement("form",{onSubmit:function(t){return e.handleClickAdd(t)}},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{name:"name",type:"text",required:!0}),o.a.createElement("label",{htmlFor:"content"},"Content"),o.a.createElement("textarea",{name:"content"}),o.a.createElement("label",{htmlFor:"folder"},"Folder"),o.a.createElement("input",{name:"folder",type:"text"}),o.a.createElement("input",{type:"submit"})),o.a.createElement(l.b,{to:"/"},o.a.createElement("button",{className:"back-button"},"Back"))))}}]),t}(a.Component));k.contextType=E;var g=k,D=(n(38),n(39),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleClickDelete=function(e){e.preventDefault(),fetch("".concat(O.API_ENDPOINT,"/notes/").concat(n.props.id),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){e.ok||console.log("not okay")})).then((function(){n.context.deleteNote(n.props.id)})).catch((function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("li",{className:"note"},o.a.createElement(l.b,{to:"/notes/".concat(this.props.id)},o.a.createElement("h4",null,this.props.name)),o.a.createElement("p",null,"Last Modified on ",this.props.modified),o.a.createElement("button",{onClick:this.handleClickDelete},"Delete"))}}]),t}(a.Component));D.contextType=E;var C=D,I=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.map((function(t){return e.props.folderId?t.folder_id==e.props.folderId?o.a.createElement(a.Fragment,{key:t.id},o.a.createElement(C,{data:t,name:t.title,modified:t.date_modified,handleDeleteNote:e.handleDeleteNote})):void 0:o.a.createElement(a.Fragment,{key:t.id},o.a.createElement(C,{id:t.id,data:t,name:t.title,modified:t.date_modified,handleDeleteNote:e.handleDeleteNote}))}));return o.a.createElement("main",{className:"main"},o.a.createElement("div",{className:"note-list"},o.a.createElement("ul",null,t),o.a.createElement(l.b,{to:"/add-note"},o.a.createElement("button",null,"Add Note"))))}}]),t}(a.Component);I.contextType=E;var A=I,x=(n(40),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleClickDelete=function(e){e.preventDefault(),fetch("".concat(O.API_ENDPOINT,"/notes/").concat(n.props.noteId),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){e.ok||console.log("not okay")})).then((function(){n.context.deleteNote(n.props.noteId)})).catch((function(e){console.log(e)})),n.props.history.push("/")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.map((function(t){if(e.props.noteId==t.id)return o.a.createElement("div",{className:"full-note",key:t.id},o.a.createElement("h2",null,t.title),o.a.createElement("p",null,"Last Modified on ",t.modified),o.a.createElement("p",null,t.content),o.a.createElement(l.b,{to:"/"},o.a.createElement("button",null,"Back")),o.a.createElement("button",{onClick:e.handleClickDelete},"Delete"))}));return o.a.createElement("li",null,t)}}]),t}(a.Component));x.contextType=E;var P=x,T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.error?o.a.createElement("div",null,"Uable to load folders"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.Component),w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={folders:[],notes:[]},n.deleteNote=function(e){var t=n.state.notes.filter((function(t){return t.id!==e}));n.setState({notes:t}),n.props.history.push("/")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(O.API_ENDPOINT,"/folders")).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(t){e.setState({folders:t})})).catch((function(e){console.log(e)})),fetch("".concat(O.API_ENDPOINT,"/notes")).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(t){e.setState({notes:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t={folders:this.state.folders,notes:this.state.notes,deleteNote:this.deleteNote,history:this.props.history};return o.a.createElement("div",{className:"App"},o.a.createElement(E.Provider,{value:t},o.a.createElement(f,null),o.a.createElement(h.c,null,o.a.createElement(h.a,{exact:!0,path:"/",render:function(){return o.a.createElement("div",null,o.a.createElement(T,null,o.a.createElement(v,null)),o.a.createElement(A,null))}}),o.a.createElement(h.a,{path:"/add-folder",render:function(){return o.a.createElement("div",null,o.a.createElement(N,{history:e.props.history}))}}),o.a.createElement(h.a,{path:"/folders/add-folder",render:function(){return o.a.createElement("div",null,o.a.createElement(N,{history:e.props.history}))}}),o.a.createElement(h.a,{path:"/add-note",render:function(){return o.a.createElement("div",null,o.a.createElement(g,{history:e.props.history}))}}),o.a.createElement(h.a,{path:"/notes/:id",render:function(t){var n=t.match.params.id;return o.a.createElement(P,{noteId:n,history:e.props.history})}}),o.a.createElement(h.a,{path:"/folders/:id",render:function(e){var t=e.match.params.id;return o.a.createElement("div",null,o.a.createElement(v,null),o.a.createElement(A,{folderId:t}))}}))))}}]),t}(a.Component),F=Object(h.f)(w);n(41);c.a.render(o.a.createElement(l.a,null,o.a.createElement(F,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.abbcb944.chunk.js.map
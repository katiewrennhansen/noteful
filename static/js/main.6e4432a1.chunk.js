(window.webpackJsonpnoteful=window.webpackJsonpnoteful||[]).push([[0],{22:function(e,t,n){e.exports=n(42)},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),l=n(7),i=n(1),u=n(2),d=n(4),m=n(3),s=n(5),f=n(11),h=(n(27),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h1",null,"Noteful")))}}]),t}(a.Component)),p=(n(33),n(34),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"folder"},r.a.createElement("h3",null,this.props.name))}}]),t}(a.Component)),E=(n(35),r.a.createContext({folders:[],notes:[],addFolder:function(){},addNote:function(){},deleteNote:function(){},handleDeleteNote:function(){}})),b=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context.folders.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(l.b,{to:"/folder/".concat(e.id)},r.a.createElement(p,{name:e.name})))}));return r.a.createElement("div",{className:"folder-list"},r.a.createElement("ul",null,e),r.a.createElement(l.b,{to:"add-folder"},r.a.createElement("button",null,"Add Folder")))}}]),t}(a.Component);b.contextType=E;var O=b,j=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("aside",{className:"header"},r.a.createElement(O,null))}}]),t}(a.Component),v=(n(36),{API_ENDPOINT:"http://localhost:9090"}),N=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={folders:{}},n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"add-folder"},r.a.createElement("div",{className:"inner-content"},r.a.createElement("h1",null,"Add New Folder"),r.a.createElement("form",{action:"".concat(v.API_ENDPOINT,"/folders"),method:"POST"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{name:"name",type:"text"}),r.a.createElement("input",{type:"submit"})),r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{className:"back-button"},"Back"))))}}]),t}(a.Component);N.contextType=E;var y=N,k=(n(37),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"add-note"},r.a.createElement("div",{className:"inner-content"},r.a.createElement("h1",null,"Add New Note"),r.a.createElement("form",{target:"_blank",action:"".concat(v.API_ENDPOINT,"/notes"),method:"POST"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{name:"name",type:"text",required:!0}),r.a.createElement("label",{htmlFor:"content"},"Content"),r.a.createElement("textarea",{name:"content"}),r.a.createElement("label",{htmlFor:"folder"},"Folder"),r.a.createElement("input",{name:"folder",type:"text"}),r.a.createElement("input",{type:"submit"})),r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{className:"back-button"},"Back"))))}}]),t}(a.Component)),D=(n(38),n(39),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClickDelete=function(e){e.preventDefault();var t=n.props.data.id;fetch("".concat(v.API_ENDPOINT,"/notes/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(){n.context.deleteNote(t)})).catch((function(e){console.log(e)}))},n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{className:"note"},r.a.createElement(l.b,{to:"/note/".concat(this.props.data.id)},r.a.createElement("h4",null,this.props.name)),r.a.createElement("p",null,"Last Modified on ",this.props.modified),r.a.createElement("button",{onClick:this.handleClickDelete},"Delete"))}}]),t}(a.Component));D.contextType=E;var I=D,C=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.map((function(t){return e.props.folderId?t.folderId===e.props.folderId?r.a.createElement(a.Fragment,{key:t.id},r.a.createElement(I,{data:t,name:t.name,modified:t.modified,handleDeleteNote:e.handleDeleteNote})):void 0:r.a.createElement(a.Fragment,{key:t.id},r.a.createElement(I,{id:t.id,data:t,name:t.name,modified:t.modified,handleDeleteNote:e.handleDeleteNote}))}));return r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"note-list"},r.a.createElement("ul",null,t),r.a.createElement(l.b,{to:"/add-note"},r.a.createElement("button",null,"Add Note"))))}}]),t}(a.Component);C.contextType=E;var P=C,g=(n(40),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleDeleteNote=function(e){n.props.history.push("/")},n.handleClickDelete=function(e){e.preventDefault();var t=n.props.noteId;fetch("".concat(v.API_ENDPOINT,"/notes/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(){n.context.deleteNote(t),n.handleDeleteNote(t)})).catch((function(e){console.log(e)}))},n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.map((function(t){if(e.props.noteId===t.id)return r.a.createElement("div",{className:"full-note",key:t.id},r.a.createElement("h2",null,t.name),r.a.createElement("p",null,"Last Modified on ",t.modified),r.a.createElement("p",null,t.content),r.a.createElement(l.b,{to:"/"},r.a.createElement("button",null,"Back")),r.a.createElement("button",{onClick:e.handleClickDelete},"Delete"))}));return r.a.createElement("li",null,t)}}]),t}(a.Component));g.defaultProps={match:{params:{}}},g.contextType=E;var x=g,A=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={hasError:!1},n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.error?r.a.createElement("div",null,"Uable to load folders"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.Component),T=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={folders:[],notes:[]},n.deleteNote=function(e){var t=n.state.notes.filter((function(t){return t.id!==e}));n.setState({notes:t})},n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(v.API_ENDPOINT,"/folders")).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(t){e.setState({folders:t})})).catch((function(e){console.log(e)})),fetch("".concat(v.API_ENDPOINT,"/notes")).then((function(e){return e.ok||console.log("not okay"),e.json()})).then((function(t){e.setState({notes:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e={folders:this.state.folders,notes:this.state.notes,deleteNote:this.deleteNote};return r.a.createElement("div",{className:"App"},r.a.createElement(E.Provider,{value:e},r.a.createElement(h,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null,r.a.createElement(A,null,r.a.createElement(j,null)),r.a.createElement(P,null))}}),r.a.createElement(f.a,{path:"/add-folder",render:function(){return r.a.createElement("div",null,r.a.createElement(y,null))}}),r.a.createElement(f.a,{path:"/folder/add-folder",render:function(){return r.a.createElement("div",null,r.a.createElement(y,null))}}),r.a.createElement(f.a,{path:"/add-note",render:function(){return r.a.createElement("div",null,r.a.createElement(k,null))}}),r.a.createElement(f.a,{path:"/note/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(x,{noteId:t})}}),r.a.createElement(f.a,{path:"/folder/:id",render:function(e){var t=e.match.params.id;return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(P,{folderId:t}))}}))))}}]),t}(a.Component);n(41);o.a.render(r.a.createElement(l.a,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.6e4432a1.chunk.js.map